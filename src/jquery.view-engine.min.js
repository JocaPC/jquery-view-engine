!function(e){e.fn.view=function(t,a){function r(t,a,r){for(i=0;i<a.length;i++)e("<option/>").attr("value",a[i].value||a[i]).text(a[i].text||a[i]).attr("selected",a[i].selected).appendTo(e(t))}function o(a,o,n){var s=a.type||a.tagName;if(null==s&&1==a.length&&(s=a[0].type||a[0].tagName),null!=s)switch(s=s.toLowerCase()){case"text":case"hidden":case"date":case"week":case"month":case"time":case"email":case"url":case"tel":case"color":case"datetime-local":case"number":case"range":case"submit":case"button":e(a).val(o);break;case"radio":o.toString().toLowerCase()==a.value.toLowerCase()&&e(a).attr("checked","checked");break;case"checkbox":o&&e(a).attr("checked",!0).attr("value",!0);break;case"select":case"select-one":case"datalist":"string"==typeof o||"number"==typeof o||"boolean"==typeof o?e(a).val(o):o.constructor==Array?r(a,o,n):console.error("Cannot bind "+o+" to "+s);break;case"select-multiple":var i=a[0];if(null!=a[0].options&&void 0!==a[0].options||(i=a),i.options.length>1)for(var l=o.constructor==Array?o:[o],c=0;c<i.options.length;c++)for(var u=0;u<l.length;u++)i.options[c].selected|=i.options[c].value==l[u];else r(a,o,n);break;case"option":var d=e(a);d.attr("value",o.value||o),d.text(o.text||o.value||o),o.selected&&d.attr("selected",!0);break;case"a":var f=e(a).attr("href");(v=f.indexOf("#"))>1e6?f=f.substr(0,v)+"&"+n+"="+o+f.substr(v):(v=f.indexOf("?"))>0?f+="&"+n+"="+o:f=f+"?"+n+"="+o,e(a).attr("href",f);break;case"img":var p=e(a);if("string"==typeof o){var v=o.indexOf("$"),h="",b="";v>0?(h=o.substring(0,v),b=o.substring(v+1)):h=o,p.attr("src",h),p.attr("alt",b)}else p.attr("src",t.src),p.attr("alt",t.alt),p.attr("title",t.title);break;case"form":var g=e(a);if("string"==typeof o||"number"==typeof o){var m=g.attr("action");m.indexOf("{{"+n+"}}")>0?g.attr("action",m.replace("{{"+n+"}}",o)):g.attr("action",m+o)}break;case"textarea":default:try{e(a).html(o.toString())}catch(e){console.error(e)}}}function n(t,a,r){if(null!=t)if(t.constructor==Object){if(a.length>=1&&"OPTION"==a[0].tagName)return void o(a[0],t,r);for(var s in t)if(null!=s&&void 0!==s)if(e(a).hasClass("bind-"+s))n(t[s],a,s);else{var i=".bind-"+s+", #"+s+', [name="'+s+'"]';n(t[s],jQuery(i,a),s)}}else if(t.constructor==Array){if("SELECT"==a.tagName||"DATALIST"==a.tagName||1==a.length&&("SELECT"==a[0].tagName||"DATALIST"==a[0].tagName))return void o(a,t,r);for(var l=e(a).clone(!0),c=t.length-1;c>0;c--){var u=l.clone(!0).insertAfter(e(a));n(t[c],u,r)}n(t[0],e(a),r)}else if(a.length>0)for(c=0;c<a.length;c++)o(a[c],t,r);else o(a,t,r)}function s(e){if(null!=e.data("jquery-view-template")&&""!=e.data("jquery-view-template")){t=e.data("jquery-view-template");e.html(t)}else{var t=e.html();e.data("jquery-view-template",t)}}if("object"!=typeof t)throw console.error("Object should be provided as a model instead of "+typeof t),"Object should be provided as a model instead of "+typeof t;var l={onLoading:jQuery.noop,onLoaded:jQuery.noop};return properties=e.extend(l,a),this.each(function(){s(e(this)),properties.onLoading(),n(t,this),properties.onLoaded()})}}(jQuery);