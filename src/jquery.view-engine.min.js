!function(e){e.fn.view=function(t,a){function r(t,a,r){for(i=0;i<a.length;i++)e("<option/>").attr("value",a[i].value||a[i]).text(a[i].text||a[i]).attr("selected",a[i].selected).appendTo(e(t))}function o(a,o,n){var i=a.type||a.tagName;if(null==i&&1==a.length&&(i=a[0].type||a[0].tagName),null!=i)switch(i=i.toLowerCase()){case"text":case"hidden":case"date":case"week":case"month":case"time":case"email":case"url":case"tel":case"color":case"datetime-local":case"number":case"range":case"submit":case"button":e(a).val(o);break;case"radio":o.toString().toLowerCase()==a.value.toLowerCase()&&e(a).attr("checked","checked");break;case"checkbox":o&&e(a).attr("checked",!0).attr("value",!0);break;case"select":case"select-one":case"datalist":"string"==typeof o||"number"==typeof o||"boolean"==typeof o?e(a).val(o):o.constructor==Array?r(a,o,n):console.error("Cannot bind "+o+" to "+i);break;case"select-multiple":var s=a[0];if(null!=a[0].options&&void 0!==a[0].options||(s=a),s.options.length>1)for(var c=o.constructor==Array?o:[o],l=0;l<s.options.length;l++)for(var u=0;u<c.length;u++)s.options[l].selected|=s.options[l].value==c[u];else r(a,o,n);break;case"option":var d=e(a);d.attr("value",o.value||o),d.text(o.text||o.value||o),o.selected&&d.attr("selected",!0);break;case"a":var f=e(a).attr("href");(v=f.indexOf("#"))>1e6?f=f.substr(0,v)+"&"+n+"="+o+f.substr(v):(v=f.indexOf("?"))>0?f+="&"+n+"="+o:f=f+"?"+n+"="+o,e(a).attr("href",f);break;case"img":var p=e(a);if("string"==typeof o){var v=o.indexOf("$"),h="",b="";v>0?(h=o.substring(0,v),b=o.substring(v+1)):h=o,p.attr("src",h),p.attr("alt",b)}else p.attr("src",t.src),p.attr("alt",t.alt),p.attr("title",t.title);break;case"form":var g=e(a);if("string"==typeof o||"number"==typeof o){var m=g.attr("action");m.indexOf("{{"+n+"}}")>0?g.attr("action",m.replace("{{"+n+"}}",o)):g.attr("action",m+o)}break;case"textarea":default:try{e(a).html(o.toString())}catch(e){console.error(e)}}}function n(t,a,r){if(null!=t)if(t.constructor==Object){if(a.length>=1&&"OPTION"==a[0].tagName)return void o(a[0],t,r);for(var i in t)if(null!=i&&void 0!==i){var s=".bind-"+i+", #"+i+', [name="'+i+'"]';n(t[i],jQuery(s,a),i)}}else if(t.constructor==Array){if("SELECT"==a.tagName||"DATALIST"==a.tagName||1==a.length&&("SELECT"==a[0].tagName||"DATALIST"==a[0].tagName))return void o(a,t,r);for(var c=e(a).clone(!0),l=t.length-1;l>0;l--){var u=c.clone(!0).insertAfter(e(a));n(t[l],u,r)}n(t[0],e(a),r)}else if(a.length>0)for(l=0;l<a.length;l++)o(a[l],t,r);else o(a,t,r)}function s(e){if(null!=e.data("jquery-view-template")&&""!=e.data("jquery-view-template")){t=e.data("jquery-view-template");e.html(t)}else{var t=e.html();e.data("jquery-view-template",t)}}if("object"!=typeof t)throw console.error("Object should be provided as a model instead of "+typeof t),"Object should be provided as a model instead of "+typeof t;var c={onLoading:jQuery.noop,onLoaded:jQuery.noop};return properties=e.extend(c,a),this.each(function(){s(e(this)),properties.onLoading(),n(t,this),properties.onLoaded()})}}(jQuery);